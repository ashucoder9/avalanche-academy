---
title: Contentlayer
description: Learn how to use Contentlayer with Fumadocs
---

Fumadocs provides the default
configuration with required MDX plugins for Contentlayer.

It also adds extra functionalities to Contentlayer, making it more
convenient to use and straightforward.

## Setup

```package-install
fumadocs-contentlayer contentlayer next-contentlayer
```

[Configure Contentlayer correctly](https://contentlayer.dev/docs/getting-started#nextjs-configuration).

### Edit your configuration

```ts title="contentlayer.config.ts"
import { makeSource } from 'contentlayer/source-files';
import { defaultConfig } from 'fumadocs-contentlayer/configuration';

export default makeSource(defaultConfig);
```

<Callout title="Note">
  Configuration file **can't** be imported from Next.js runtime.
</Callout>

### Load Files

Using [Source API](/docs/headless/source-api).

```ts
import { allDocs, allMeta } from 'contentlayer/generated';
import { createContentlayerSource } from 'fumadocs-contentlayer';
import { loader } from 'fumadocs-core/source';

export const docs = loader({
  baseUrl: '/docs',
  rootDir: 'docs',
  source: createContentlayerSource(allMeta, allDocs),
});
```

### Organize Pages

<Cards>
  <Card
    title="Pages Structure"
    description="Learn how to structure your pages"
    href="/docs/headless/page-conventions"
  />
</Cards>

### Adding Icons

You can configure the icon handler in
the [`loader`](/docs/headless/source-api#icons).
